datasource db {
  provider          = "sqlserver"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        Int      @id @default(autoincrement())
  name      String   @unique
  email     String   @unique
  createdAt DateTime @default(now())
  timers    Timer[]
}

model Timer {
  id              Int            @id @default(autoincrement())
  createdAt       DateTime       @default(now())
  userId          Int
  timerSettingsId Int?
  timerInfoId     Int?
  user            User           @relation(fields: [userId], references: [id])
  timerSettings   TimerSettings? @relation(fields: [timerSettingsId], references: [id])
  timerInfo       TimerInfo?     @relation(fields: [timerInfoId], references: [id])
}

model TimerSettings {
  id             Int     @id @default(autoincrement())
  privateTimer   Boolean @default(false)
  focusTimeHours Int
  focusTimeMins  Int
  focusTimeSecs  Int
  breakTimeHours Int
  breakTimeMins  Int
  breakTimeSecs  Int
  Timer          Timer[]
}

model TimerInfo {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  createdAt   DateTime @default(now())
  Timer       Timer[]
}
